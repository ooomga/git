!function(m,D,X){"use strict";var M="ht",t=m[M],f=null,K=Math,u=K.PI,r=K.cos,S=K.sin,B=K.abs,i=K.max,A=K.sqrt,j=1e-5,Z=t.Default,J=Z.def,W=Z.startAnim,p=Z.createMatrix,N=Z.transformVec,x=Z.getInternal(),E=x.addMethod,b=x.superCall,Y=x.toPointsArray,C=x.createNormals,o=x.toFloatArray,e=x.glMV,l=x.batchShape,U=x.createNodeMatrix,P=x.getFaceInfo,V=x.transformAppend,v=x.drawFaceInfo,w=x.createAnim,Q=x.cube(),F=Q.is,O=Q.vs,d=Q.uv,R=x.ui(),I=t.Node,q=t.Shape,n="h",s="v",k="front",c="back",H="left",h="right",y="top",z="bottom",T="dw.expanded",a=".expanded",$="dw.angle",L=".angle",G=function(k,X,S){J(M+"."+k,X,S)},g=function(z,F,H){H?z.push(F.x,F.y):z.push(F.x,F.y,F.z)},_=[1,0,0],Gr=function(G,O,$,B){var m,W,H,A,b=0,c=[];if(B)for(m=B.length;m>b;b+=3)W=B[b],H=B[b+1],A=B[b+2],c.push(new rs([new Dl([O[3*W],O[3*W+1],O[3*W+2]],_,$?[$[2*W],$[2*W+1],0]:f),new Dl([O[3*H],O[3*H+1],O[3*H+2]],_,$?[$[2*H],$[2*H+1],0]:f),new Dl([O[3*A],O[3*A+1],O[3*A+2]],_,$?[$[2*A],$[2*A+1],0]:f)],G));else for(m=O.length;m>b;b+=3)W=b,H=b+1,A=b+2,c.push(new rs([new Dl([O[3*W],O[3*W+1],O[3*W+2]],_,$?[$[2*W],$[2*W+1],0]:f),new Dl([O[3*H],O[3*H+1],O[3*H+2]],_,$?[$[2*H],$[2*H+1],0]:f),new Dl([O[3*A],O[3*A+1],O[3*A+2]],_,$?[$[2*A],$[2*A+1],0]:f)],G));return c},Nq=[H,k,h,c,y,z],Rl=Nq.concat("csg"),Vd=[0,6,12,18,24,30],hn=function(J,b,$){for(var Q=U(J),s=[],S=0;6>S;S++)for(var e=Nq[S],i=Vd[S],W=$?b.getFaceUv(J,e):f,l=$?b.getFaceUvScale(J,e):f,u=$?b.getFaceUvOffset(J,e):f,V=0;2>V;V++){var w,B,t,h=F[i+3*V],H=F[i+3*V+1],x=F[i+3*V+2];if($){if(W){var A=8*S;w=[W[2*h-A],W[2*h+1-A],0],B=[W[2*H-A],W[2*H+1-A],0],t=[W[2*x-A],W[2*x+1-A],0]}else w=[d[2*h],d[2*h+1],0],B=[d[2*H],d[2*H+1],0],t=[d[2*x],d[2*x+1],0];l&&(w[0]*=l[0],w[1]*=l[1],B[0]*=l[0],B[1]*=l[1],t[0]*=l[0],t[1]*=l[1]),u&&(w[0]+=u[0],w[1]+=u[1],B[0]+=u[0],B[1]+=u[1],t[0]+=u[0],t[1]+=u[1])}s.push(new rs([new Dl(N([O[3*h],O[3*h+1],O[3*h+2]],Q),_,w),new Dl(N([O[3*H],O[3*H+1],O[3*H+2]],Q),_,B),new Dl(N([O[3*x],O[3*x+1],O[3*x+2]],Q),_,t)],J))}return Dq.$15n(s)},ml=function(p,E){var d,r=p.data.getAttaches();if(r&&r.each(function(H){H instanceof hl&&H.s("attach.operation")&&(d||(d=[]),d.push(H))}),d){var J;Nq.forEach(function(y){var a=Gr(y,p[y].vs,p[y].tuv);J=J?J.concat(a):a}),J=Dq.$15n(J),d.forEach(function(f){var o=f.s("attach.operation");J[o]&&(J=J[o](hn(f,p.gv,p.csg.tuv)))}),Nq.forEach(function(u){u=p[u],u.vs=[],u.tuv&&(u.tuv=[])}),J.$19n().forEach(function(B){var A=B.$10n;if(A instanceof hl){if(A.s("attach.cull"))return;A="csg"}for(var o=p[A],c=o.vs,E=o.tuv,v=B.$9n,d=2;d<v.length;d++)g(c,v[0].$24n),g(c,v[d-1].$24n),g(c,v[d].$24n),E&&(g(E,v[0].uv,!0),g(E,v[d-1].uv,!0),g(E,v[d].uv,!0))})}Rl.forEach(function(c){var d=p[c];d.visible&&d.vs.length?(d.ns=C(d.vs),o(d,"vs"),o(d,"tuv")):delete p[c]}),E&&(l(p,f,E),p.clear())};E(Z,{createFrameModel:function(q,m,p,o){q=q==f?.07:q,m=m==f?q:m,p=p==f?q:p,o=o?o:{};var P=o.top,d=o.bottom,i=o.left,N=o.right,S=o.front,l=o.back,y=[],g=[];return S===!0?(y.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),g.push(0,0,0,1,1,1,1,1,1,0,0,0)):S===!1||(y.push(-.5,.5,.5,-.5,-.5,.5,-.5+q,-.5,.5,-.5+q,-.5,.5,-.5+q,.5,.5,-.5,.5,.5,.5-q,.5,.5,.5-q,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-q,.5,.5,-.5+q,.5,.5,-.5+q,.5-m,.5,.5-q,.5-m,.5,.5-q,.5-m,.5,.5-q,.5,.5,-.5+q,.5,.5,-.5+q,-.5+m,.5,-.5+q,-.5,.5,.5-q,-.5,.5,.5-q,-.5,.5,.5-q,-.5+m,.5,-.5+q,-.5+m,.5),g.push(0,0,0,1,q,1,q,1,q,0,0,0,1-q,0,1-q,1,1,1,1,1,1,0,1-q,0,q,0,q,m,1-q,m,1-q,m,1-q,0,q,0,q,1-m,q,1,1-q,1,1-q,1,1-q,1-m,q,1-m)),l===!0?(y.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),g.push(1,0,0,1,1,1,0,1,1,0,0,0)):l===!1||(y.push(-.5,.5,-.5,-.5+q,-.5,-.5,-.5,-.5,-.5,-.5+q,-.5,-.5,-.5,.5,-.5,-.5+q,.5,-.5,.5-q,.5,-.5,.5,-.5,-.5,.5-q,-.5,-.5,.5,-.5,-.5,.5-q,.5,-.5,.5,.5,-.5,-.5+q,.5,-.5,.5-q,.5-m,-.5,-.5+q,.5-m,-.5,.5-q,.5-m,-.5,-.5+q,.5,-.5,.5-q,.5,-.5,-.5+q,-.5+m,-.5,.5-q,-.5,-.5,-.5+q,-.5,-.5,.5-q,-.5,-.5,-.5+q,-.5+m,-.5,.5-q,-.5+m,-.5),g.push(1,0,1-q,1,1,1,1-q,1,1,0,1-q,0,q,0,0,1,q,1,0,1,q,0,0,0,1-q,0,q,m,1-q,m,q,m,1-q,0,q,0,1-q,1-m,q,1,1-q,1,q,1,1-q,1-m,q,1-m)),i===!0?(y.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),g.push(0,0,0,1,1,1,1,1,1,0,0,0)):i===!1||(y.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+p,-.5,-.5,-.5+p,-.5,.5,-.5+p,-.5,.5,-.5,-.5,.5,.5-p,-.5,-.5,.5-p,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-p,-.5,.5,-.5+p,-.5,.5-m,-.5+p,-.5,.5-m,.5-p,-.5,.5-m,.5-p,-.5,.5,.5-p,-.5,.5,-.5+p,-.5,-.5+m,-.5+p,-.5,-.5,-.5+p,-.5,-.5,.5-p,-.5,-.5,.5-p,-.5,-.5+m,.5-p,-.5,-.5+m,-.5+p),g.push(0,0,0,1,p,1,p,1,p,0,0,0,1-p,0,1-p,1,1,1,1,1,1,0,1-p,0,p,0,p,m,1-p,m,1-p,m,1-p,0,p,0,p,1-m,p,1,1-p,1,1-p,1,1-p,1-m,p,1-m)),N===!0?(y.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),g.push(1,0,0,1,1,1,0,1,1,0,0,0)):N===!1||(y.push(.5,.5,-.5,.5,-.5,-.5+p,.5,-.5,-.5,.5,-.5,-.5+p,.5,.5,-.5,.5,.5,-.5+p,.5,.5,.5-p,.5,-.5,.5,.5,-.5,.5-p,.5,-.5,.5,.5,.5,.5-p,.5,.5,.5,.5,.5,-.5+p,.5,.5-m,.5-p,.5,.5-m,-.5+p,.5,.5-m,.5-p,.5,.5,-.5+p,.5,.5,.5-p,.5,-.5+m,-.5+p,.5,-.5,.5-p,.5,-.5,-.5+p,.5,-.5,.5-p,.5,-.5+m,-.5+p,.5,-.5+m,.5-p),g.push(1,0,1-p,1,1,1,1-p,1,1,0,1-p,0,p,0,0,1,p,1,0,1,p,0,0,0,1-p,0,p,m,1-p,m,p,m,1-p,0,p,0,1-p,1-m,p,1,1-p,1,p,1,1-p,1-m,p,1-m)),P===!0?(y.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),g.push(1,1,1,0,0,0,0,0,0,1,1,1)):P===!1||(y.push(.5,.5,.5,.5,.5,-.5,.5-q,.5,-.5,.5-q,.5,-.5,.5-q,.5,.5,.5,.5,.5,-.5+q,.5,.5,-.5+q,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+q,.5,.5,.5-q,.5,.5,.5-q,.5,.5-p,-.5+q,.5,.5-p,-.5+q,.5,.5-p,-.5+q,.5,.5,.5-q,.5,.5,.5-q,.5,-.5+p,.5-q,.5,-.5,-.5+q,.5,-.5,-.5+q,.5,-.5,-.5+q,.5,-.5+p,.5-q,.5,-.5+p),g.push(1,1,1,0,1-q,0,1-q,0,1-q,1,1,1,q,1,q,0,0,0,0,0,0,1,q,1,1-q,1,1-q,1-p,q,1-p,q,1-p,q,1,1-q,1,1-q,p,1-q,0,q,0,q,0,q,p,1-q,p)),d===!0?(y.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),g.push(1,0,0,1,1,1,0,1,1,0,0,0)):d===!1||(y.push(.5,-.5,.5,.5-q,-.5,-.5,.5,-.5,-.5,.5-q,-.5,-.5,.5,-.5,.5,.5-q,-.5,.5,-.5+q,-.5,.5,-.5,-.5,-.5,-.5+q,-.5,-.5,-.5,-.5,-.5,-.5+q,-.5,.5,-.5,-.5,.5,.5-q,-.5,.5,-.5+q,-.5,.5-p,.5-q,-.5,.5-p,-.5+q,-.5,.5-p,.5-q,-.5,.5,-.5+q,-.5,.5,.5-q,-.5,-.5+p,-.5+q,-.5,-.5,.5-q,-.5,-.5,-.5+q,-.5,-.5,.5-q,-.5,-.5+p,-.5+q,-.5,-.5+p),g.push(1,0,1-q,1,1,1,1-q,1,1,0,1-q,0,q,0,0,1,q,1,0,1,q,0,0,0,1-q,0,q,p,1-q,p,q,p,1-q,0,q,0,1-q,1-p,q,1,1-q,1,q,1,1-q,1-p,q,1-p)),{vs:y,uv:g}}}),E(t.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":X,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":u/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Nq.forEach(function(r){var P={};P[r+a]=!1,P[r+".toggleable"]=!1,P[r+".axis"]=H,P[r+".start"]=0,P[r+".end"]=u/2,P[r+L]=0,E(t.Style,P,!0)});var Dq=function(){this.$4n=[]};Dq.$15n=function(q){var h=new Dq;return h.$4n=q,h},Dq.prototype={clone:function(){var h=new Dq;return h.$4n=this.$4n.map(function(q){return q.clone()}),h},$19n:function(){return this.$4n},union:function(S){var k=new zo(this.clone().$4n),B=new zo(S.clone().$4n);return k.$3n(B),B.$3n(k),B.$6n(),B.$3n(k),B.$6n(),k.$7n(B.$2n()),Dq.$15n(k.$2n())},subtract:function(S){var e=new zo(this.clone().$4n),A=new zo(S.clone().$4n);return e.$6n(),e.$3n(A),A.$3n(e),A.$6n(),A.$3n(e),A.$6n(),e.$7n(A.$2n()),e.$6n(),Dq.$15n(e.$2n())},intersect:function(T){var X=new zo(this.clone().$4n),l=new zo(T.clone().$4n);return X.$6n(),l.$3n(X),l.$6n(),X.$3n(l),l.$3n(X),X.$7n(l.$2n()),X.$6n(),Dq.$15n(X.$2n())},inverse:function(){var n=this.clone();return n.$4n.map(function(i){i.flip()}),n}},Dq.cube=function(I){I=I||{};var $=new Pd(I.center||[0,0,0]),H=I.radius?I.radius.length?I.radius:[I.radius,I.radius,I.radius]:[1,1,1];return Dq.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(h){return new rs(h[0].map(function(g){var r=new Pd($.x+H[0]*(2*!!(1&g)-1),$.y+H[1]*(2*!!(2&g)-1),$.z+H[2]*(2*!!(4&g)-1));return new Dl(r,new Pd(h[1]))}))}))},Dq.sphere=function(t){function E(e,w){e*=2*u,w*=u;var Y=new Pd(r(e)*S(w),r(w),S(e)*S(w));_.push(new Dl(I.$20n(Y.$21n(U)),Y))}t=t||{};for(var _,I=new Pd(t.center||[0,0,0]),U=t.radius||1,L=t.slices||16,n=t.stacks||8,c=[],B=0;L>B;B++)for(var g=0;n>g;g++)_=[],E(B/L,g/n),g>0&&E((B+1)/L,g/n),n-1>g&&E((B+1)/L,(g+1)/n),E(B/L,(g+1)/n),c.push(new rs(_));return Dq.$15n(c)},Dq.cylinder=function(t){function v(N,y,h){var b=2*y*u,x=c.$21n(r(b)).$20n(H.$21n(S(b))),W=p.$20n(k.$21n(N)).$20n(x.$21n(X)),_=x.$21n(1-B(h)).$20n(V.$21n(h));return new Dl(W,_)}t=t||{};for(var p=new Pd(t.start||[0,-1,0]),i=new Pd(t.end||[0,1,0]),k=i.$13n(p),X=t.radius||1,P=t.slices||16,V=k.$14n(),W=B(V.y)>.5,c=new Pd(W,!W,0).$12n(V).$14n(),H=c.$12n(V).$14n(),a=new Dl(p,V.$11n()),o=new Dl(i,V.$14n()),U=[],R=0;P>R;R++){var x=R/P,A=(R+1)/P;U.push(new rs([a,v(0,x,-1),v(0,A,-1)])),U.push(new rs([v(0,A,0),v(0,x,0),v(1,x,0),v(1,A,0)])),U.push(new rs([o,v(1,A,1),v(1,x,1)]))}return Dq.$15n(U)};var Pd=function(Y,I,r){var Z=this;3==arguments.length?(Z.x=Y,Z.y=I,Z.z=r):"x"in Y?(Z.x=Y.x,Z.y=Y.y,Z.z=Y.z):(Z.x=Y[0],Z.y=Y[1],Z.z=Y[2])};Pd.prototype={clone:function(){return new Pd(this.x,this.y,this.z)},$11n:function(){return new Pd(-this.x,-this.y,-this.z)},$20n:function(B){return new Pd(this.x+B.x,this.y+B.y,this.z+B.z)},$13n:function(m){return new Pd(this.x-m.x,this.y-m.y,this.z-m.z)},$21n:function(C){return new Pd(this.x*C,this.y*C,this.z*C)},$16n:function(h){return new Pd(this.x/h,this.y/h,this.z/h)},$23n:function(z){return this.x*z.x+this.y*z.y+this.z*z.z},lerp:function(x,P){return this.$20n(x.$13n(this).$21n(P))},length:function(){return A(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(E){var L=this;return new Pd(L.y*E.z-L.z*E.y,L.z*E.x-L.x*E.z,L.x*E.y-L.y*E.x)}};var Dl=function(T,B,S){var X=this;X.$24n=new Pd(T),X.$22n=new Pd(B),X.uv=S?new Pd(S):null};Dl.prototype={clone:function(){var Z=this;return new Dl(Z.$24n.clone(),Z.$22n.clone(),Z.uv?Z.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(f,v){var k=this;return new Dl(k.$24n.lerp(f.$24n,v),k.$22n.lerp(f.$22n,v),k.uv?k.uv.lerp(f.uv,v):null)}};var di=function(M,N){this.$22n=M,this.w=N};di.$17n=function(g,s,y){var _=s.$13n(g).$12n(y.$13n(g)).$14n();return new di(_,_.$23n(g))},di.prototype={clone:function(){return new di(this.$22n.clone(),this.w)},flip:function(){var A=this;A.$22n=A.$22n.$11n(),A.w=-A.w},$5n:function(Q,O,p,n,z){for(var C=this,M=0,r=1,g=2,B=3,D=0,W=[],I=0;I<Q.$9n.length;I++){var T=C.$22n.$23n(Q.$9n[I].$24n)-C.w,U=-j>T?g:T>j?r:M;D|=U,W.push(U)}switch(D){case M:(C.$22n.$23n(Q.$8n.$22n)>0?O:p).push(Q);break;case r:n.push(Q);break;case g:z.push(Q);break;case B:for(var X=[],v=[],I=0;I<Q.$9n.length;I++){var w=(I+1)%Q.$9n.length,A=W[I],k=W[w],Z=Q.$9n[I],t=Q.$9n[w];if(A!=g&&X.push(Z),A!=r&&v.push(A!=g?Z.clone():Z),(A|k)==B){var T=(C.w-this.$22n.$23n(Z.$24n))/C.$22n.$23n(t.$24n.$13n(Z.$24n)),u=Z.$18n(t,T);X.push(u),v.push(u.clone())}}X.length>=3&&n.push(new rs(X,Q.$10n)),v.length>=3&&z.push(new rs(v,Q.$10n))}}};var rs=function(A,N){var g=this;g.$9n=A,g.$10n=N,g.$8n=di.$17n(A[0].$24n,A[1].$24n,A[2].$24n)};rs.prototype={clone:function(){var U=this.$9n.map(function(D){return D.clone()});return new rs(U,this.$10n)},flip:function(){this.$9n.reverse().map(function(g){g.flip()}),this.$8n.flip()}};var zo=function(l){var h=this;h.$8n=null,h.front=null,h.back=null,h.$4n=[],l&&h.$7n(l)};zo.prototype={clone:function(){var i=this,N=new zo;return N.$8n=i.$8n&&i.$8n.clone(),N.front=i.front&&i.front.clone(),N.back=i.back&&i.back.clone(),N.$4n=i.$4n.map(function(u){return u.clone()}),N},$6n:function(){for(var a=this,p=0;p<a.$4n.length;p++)a.$4n[p].flip();a.$8n.flip(),a.front&&a.front.$6n(),a.back&&a.back.$6n();var r=a.front;a.front=a.back,a.back=r},$1n:function(G){var u=this;if(!u.$8n)return G.slice();for(var R=[],k=[],l=0;l<G.length;l++)u.$8n.$5n(G[l],R,k,R,k);return u.front&&(R=u.front.$1n(R)),k=u.back?u.back.$1n(k):[],R.concat(k)},$3n:function(B){var p=this;p.$4n=B.$1n(p.$4n),p.front&&p.front.$3n(B),p.back&&p.back.$3n(B)},$2n:function(){var t=this,H=t.$4n.slice();return t.front&&(H=H.concat(t.front.$2n())),t.back&&(H=H.concat(t.back.$2n())),H},$7n:function(b){var j=this;if(b.length){j.$8n||(j.$8n=b[0].$8n.clone());for(var w=[],g=[],O=0;O<b.length;O++)this.$8n.$5n(b[O],j.$4n,j.$4n,w,g);w.length&&(j.front||(j.front=new zo),this.front.$7n(w)),g.length&&(j.back||(j.back=new zo),j.back.$7n(g))}}};var bo="symbol",nr=t.Symbol=function(M,G,Y){var O=this;b(nr,O),O.s3(20,20,20),O.s({"all.visible":!1,shape:"rect"}),O.setIcon(M,G,Y)};G("Symbol",I,{setIcon:function(W,D,V){var k,g=this;return nr.superClass.setIcon.call(g,W),W?(k={for3d:!0,face:"center",position:44,names:[W]},V&&(k.transaprent=!0),D&&(k.autorotate=D),g.addStyleIcon(bo,k)):g.removeStyleIcon(bo),g.setWidth(x.getImageWidth(Z.getImage(W),g)||20),k}});var hl=t.CSGNode=function(){b(hl,this),this.s({shape:"rect","attach.thickness":1.001})},So={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};G("CSGNode",I,{_22Q:function(){return Yg},onPropertyChanged:function(q){var v=this,M=v.getHost();hl.superClass.onPropertyChanged.call(v,q),So[q.property]&&(M instanceof $g||M instanceof hl)&&M.fp("csgNodeChange",!0,!1)}});var Yg=function(I,u){b(Yg,this,[I,u])};J(Yg,R.Node3dUI,{_80o:function(s,R,x){var t=this;t._shape3d?Yg.superClass._80o.call(t,s,R,x):(e(t.gv),Rl.forEach(function(S){v(t,s,R,t[S],x)}))},validate:function(x,i){var l=this,T=l.gv,q=l.data;if(q.s("shape3d"))return Yg.superClass.validate.call(l,x,i),l._shape3d=!0,void 0;l._shape3d=!1;var m=U(q,T.getMat(q)),C=x&&x.uv;l.vf2("csg",C);for(var Z=0;6>Z;Z++)for(var L=Nq[Z],r=Vd[Z],Y=l.vf2(L,C,i),v=Y.mat||m,A=Y.vs,o=Y.uv,f=Y.tuv,p=0;2>p;p++){var j=F[r+3*p],h=F[r+3*p+1],g=F[r+3*p+2];if(V(A,v,[O[3*j],O[3*j+1],O[3*j+2]]),V(A,v,[O[3*h],O[3*h+1],O[3*h+2]]),V(A,v,[O[3*g],O[3*g+1],O[3*g+2]]),f)if(o){var I=8*Z;f.push(o[2*j-I],o[2*j+1-I],o[2*h-I],o[2*h+1-I],o[2*g-I],o[2*g+1-I])}else f.push(d[2*j],d[2*j+1],d[2*h],d[2*h+1],d[2*g],d[2*g+1])}ml(l,x,i)},vf2:function(J,E,D){var o,l=this,S=l.gv.getFaceVisible(l.data,J);return o=P(l,J,D),o.vs=[],o.tuv=S&&(o.texture||E)?[]:f,o.visible=S,o}});var $g=t.CSGShape=function(){var s=this;b($g,s),s.s({"shape.background":f,"shape.border.width":8}),s.setTall(240),s.setElevation(120),s.setThickness(14)};G("CSGShape",q,{IRotatable:!1,_22Q:function(){return fp},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var fp=function(I,Y){b(fp,this,[I,Y])};J(fp,R.Shape3dUI,{_80o:function(l,j,p){var K=this;K.undrawable||(e(K.gv),Rl.forEach(function($){v(K,l,j,K[$],p)}))},validate:function(K,c){var G=this,Z=G.data,M=Z.getPoints();if(G.undrawable=M.size()<2)return G.clear(),void 0;var s=Z.isClosePath(),z=i(Z._thickness/2,j),_=Y(M,f,f,s);Rl.forEach(function(q){G.vf(q,K&&K.uv,!0,c)}),s&&(G.left.visible=!1,G.right.visible=!1),G._12O(_,z),G._20Q(_),ml(G,K,c)}});var Rp=t.DoorWindow=function(){var J=this;b(Rp,J),J.setElevation(100),J.s3(100,200,14)};G("DoorWindow",hl,{IDoorWindow:!0,toggle:function(O){this.setExpanded(!this.s(T),O)},isExpanded:function(){return this.s(T)},setExpanded:function(r,a){var Z,E=this,h=E.$25n,p=E.getDataModel(),s=E.s(T);if(p&&(Z=p.getHistoryManager()),h&&(h.stop(!0),delete E.$25n),s!==r){Z&&Z.beginInteraction();var I=r?E.s("dw.end"):E.s("dw.start");E.s(T,r),a=w(a),a?(s=E.s($),a.action=function(w){E.s($,s+(I-s)*w)},a.finishFunc=function(){Z&&Z.endInteraction()},E.$25n=W(a)):(E.s($,I),Z&&Z.endInteraction())}},getMat:function(){var r=this,q=r.s("dw.s3"),W=r.s("dw.t3"),e=r.s("dw.flip"),M=r.s($);if(q||M||W||e){var c=[];if(e&&c.push({r3:[0,u,0]}),q&&c.push({s3:q}),M){q=r.s3();var v=r.s("dw.axis"),V=q[0]/2,b=q[1]/2;q[2]/2,v===H?c.push({t3:[V,0,0]},{r3:[0,-M,0]},{t3:[-V,0,0]}):v===h?c.push({t3:[-V,0,0]},{r3:[0,M,0]},{t3:[V,0,0]}):v===y?c.push({t3:[0,-b,0]},{r3:[-M,0,0]},{t3:[0,b,0]}):v===z?c.push({t3:[0,b,0]},{r3:[M,0,0]},{t3:[0,-b,0]}):v===s?c.push({r3:[0,M,0]}):v===n&&c.push({r3:[M,0,0]})}return W&&c.push({t3:W}),p(c)}return f}});var qg=t.CSGBox=function(){var Z=this;b(qg,Z),Z.setElevation(100),Z.s3(100,200,100)};G("CSGBox",hl,{ICSGBox:!0,toggleFace:function(U,O){this.setFaceExpanded(U,!this.s(U+a),O)},isFaceExpanded:function(U){return this.s(U+a)},setFaceExpanded:function(S,s,Z){var Q=this,b=Q.$25n,d=Q.s(S+a);if(b&&(b.stop(!0),delete Q.$25n),d!==s){var t=s?Q.s(S+".end"):Q.s(S+".start");Q.s(S+a,s),Z=w(Z),Z?(d=Q.s(S+L),Z.action=function(v){Q.s(S+L,d+(t-d)*v)},Q.$25n=W(Z)):Q.s(S+L,t)}},getFaceMat:function(d){var b=this,B=b.s(d+L);if(!B)return f;var V=b.s(d+".axis"),C=b.s3(),M=C[0]/2,Y=C[1]/2,Q=C[2]/2,_=[];return d===k&&(V===H?_.push({t3:[M,0,-Q]},{r3:[0,-B,0]},{t3:[-M,0,Q]}):V===h?_.push({t3:[-M,0,-Q]},{r3:[0,B,0]},{t3:[M,0,Q]}):V===y?_.push({t3:[0,-Y,-Q]},{r3:[-B,0,0]},{t3:[0,Y,Q]}):V===z?_.push({t3:[0,Y,-Q]},{r3:[B,0,0]},{t3:[0,-Y,Q]}):V===s?_.push({t3:[0,0,-Q]},{r3:[0,B,0]},{t3:[0,0,Q]}):V===n&&_.push({t3:[0,0,-Q]},{r3:[B,0,0]},{t3:[0,0,Q]})),d===c&&(V===H?_.push({t3:[-M,0,Q]},{r3:[0,-B,0]},{t3:[M,0,-Q]}):V===h?_.push({t3:[M,0,Q]},{r3:[0,B,0]},{t3:[-M,0,-Q]}):V===y?_.push({t3:[0,-Y,Q]},{r3:[B,0,0]},{t3:[0,Y,-Q]}):V===z?_.push({t3:[0,Y,Q]},{r3:[-B,0,0]},{t3:[0,-Y,-Q]}):V===s?_.push({t3:[0,0,Q]},{r3:[0,B,0]},{t3:[0,0,-Q]}):V===n&&_.push({t3:[0,0,Q]},{r3:[B,0,0]},{t3:[0,0,-Q]})),d===H&&(V===H?_.push({t3:[M,0,Q]},{r3:[0,-B,0]},{t3:[-M,0,-Q]}):V===h?_.push({t3:[M,0,-Q]},{r3:[0,B,0]},{t3:[-M,0,Q]}):V===y?_.push({t3:[M,-Y,0]},{r3:[0,0,-B]},{t3:[-M,Y,0]}):V===z?_.push({t3:[M,Y,0]},{r3:[0,0,B]},{t3:[-M,-Y,0]}):V===s?_.push({t3:[M,0,0]},{r3:[0,B,0]},{t3:[-M,0,0]}):V===n&&_.push({t3:[M,0,0]},{r3:[0,0,B]},{t3:[-M,0,0]})),d===h&&(V===H?_.push({t3:[-M,0,-Q]},{r3:[0,-B,0]},{t3:[M,0,Q]}):V===h?_.push({t3:[-M,0,Q]},{r3:[0,B,0]},{t3:[M,0,-Q]}):V===y?_.push({t3:[-M,-Y,0]},{r3:[0,0,B]},{t3:[M,Y,0]}):V===z?_.push({t3:[-M,Y,0]},{r3:[0,0,-B]},{t3:[M,-Y,0]}):V===s?_.push({t3:[-M,0,0]},{r3:[0,B,0]},{t3:[M,0,0]}):V===n&&_.push({t3:[-M,0,0]},{r3:[0,0,B]},{t3:[M,0,0]})),d===y&&(V===H?_.push({t3:[M,-Y,0]},{r3:[0,0,B]},{t3:[-M,Y,0]}):V===h?_.push({t3:[-M,-Y,0]},{r3:[0,0,-B]},{t3:[M,Y,0]}):V===y?_.push({t3:[0,-Y,Q]},{r3:[-B,0,0]},{t3:[0,Y,-Q]}):V===z?_.push({t3:[0,-Y,-Q]},{r3:[B,0,0]},{t3:[0,Y,Q]}):V===s?_.push({t3:[0,-Y,0]},{r3:[0,0,B]},{t3:[0,Y,0]}):V===n&&_.push({t3:[0,-Y,0]},{r3:[B,0,0]},{t3:[0,Y,0]})),d===z&&(V===H?_.push({t3:[M,Y,0]},{r3:[0,0,-B]},{t3:[-M,-Y,0]}):V===h?_.push({t3:[-M,Y,0]},{r3:[0,0,B]},{t3:[M,-Y,0]}):V===y?_.push({t3:[0,Y,-Q]},{r3:[-B,0,0]},{t3:[0,-Y,Q]}):V===z?_.push({t3:[0,Y,Q]},{r3:[B,0,0]},{t3:[0,-Y,-Q]}):V===s?_.push({t3:[0,Y,0]},{r3:[0,0,B]},{t3:[0,-Y,0]}):V===n&&_.push({t3:[0,Y,0]},{r3:[B,0,0]},{t3:[0,-Y,0]})),p(_)}})}(this,Object);