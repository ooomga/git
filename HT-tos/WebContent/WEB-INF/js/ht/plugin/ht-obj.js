!function(r,S,v){"use strict";var s="ht",N=r[s],E=null,k=Math,C=k.abs,P=k.max,B=Number.MAX_VALUE,F=N.Default,p=F.getInternal(),X=F.clone,Q=p.vec3TransformMat4,o=p.appendArray,e=function(){var w=/v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,T=/vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,s=/vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,N=/f( +\d+)( +\d+)( +\d+)( +\d+)?/,e=/f( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))?/,c=/f( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))?/,U=/f( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))?/,_=function(x,O){return O=parseInt(O),O>=0?x[O-1]:x[O+x.length]},D=function(z,j,C,H,T,x){if(z.vs){var E=_(j,H),D=_(j,T),g=_(j,x),m=C.matrix,b=z.vs;if(C.flipFace){var p=D;D=g,g=p}m?(o(b,Q(X(E),m)),o(b,Q(X(D),m)),o(b,Q(X(g),m))):(o(b,E),o(b,D),o(b,g))}},I=function(J,N,p,c,j,C){if(J.vs){var n=_(N,c),V=_(N,j),U=_(N,C),d=p.flipY;if(p.flipFace){var T=V;V=U,U=T}J.uv.push(n[0],d?1-n[1]:n[1],V[0],d?1-V[1]:V[1],U[0],d?1-U[1]:U[1])}},S=function(j,C,$,r,L,t){if(j.vs){var c=_(C,r),T=_(C,L),i=_(C,t),G=$.normalMatrix,e=j.ns;if($.flipFace){var P=T;T=i,i=P}G?(o(e,Q(X(c),G)),o(e,Q(X(T),G)),o(e,Q(X(i),G))):(o(e,c),o(e,T),o(e,i))}},b=function(L,C,O,Q,E,X,z,w){var x=Q&&Q.length&&w;X[3]===v?(D(L,C,E,X[0],X[1],X[2]),z&&I(L,O,E,z[0],z[1],z[2]),x&&S(L,Q,E,w[0],w[1],w[2])):(D(L,C,E,X[0],X[1],X[3]),D(L,C,E,X[1],X[2],X[3]),z&&(I(L,O,E,z[0],z[1],z[3]),I(L,O,E,z[1],z[2],z[3])),x&&(S(L,Q,E,w[0],w[1],w[3]),S(L,Q,E,w[1],w[2],w[3])))},K=function(M,H,z,O){var r,b,Z,v,Q,h,w,q=B,X=B,S=B,T=-B,i=-B,A=-B;for(r in M)for(h=M[r].vs,w=h.length,b=0;w>b;b+=3)Z=h[b+0],v=h[b+1],Q=h[b+2],q>Z&&(q=Z),X>v&&(X=v),S>Q&&(S=Q),Z>T&&(T=Z),v>i&&(i=v),Q>A&&(A=Q);if(z){var y=q+(T-q)/2,E=X+(i-X)/2,_=S+(A-S)/2;for(r in M)for(h=M[r].vs,w=h.length,b=0;w>b;b+=3)h[b+0]-=y,h[b+1]-=E,h[b+2]-=_}var J,t,W;z?(J=T-q,t=i-X,W=A-S):(J=2*P(C(q),C(T)),t=2*P(C(X),C(i)),W=2*P(C(S),C(A))),O.rawS3=[J,t,W];for(r in M){if(h=M[r].vs,H)for(w=h.length,b=0;w>b;b+=3)J&&(h[b+0]/=J),t&&(h[b+1]/=t),W&&(h[b+2]/=W);M[r].rawS3=O.rawS3}};return function($,i,P){if(!$)return E;p.isString(i)&&(i=j(i)),P||(P={}),P.flipY==E&&(P.flipY=!0),(P.s3||P.r3||P.t3||P.mat)&&(P.matrix=p.createWorldMatrix(P.mat,P.s3,P.r3,P.rotationMode,P.t3));var n,J,z,v,L,q,S=[],M=[],O=P.ignoreNormal?E:[],x=P.reverseFlipMtls,A={vs:[],uv:[],ns:O?[]:E},W={htdefault:A},B=$.split("\n"),k=0;for(O&&P.matrix&&(P.normalMatrix=p.createNormalMatrix(P.matrix));k<B.length;k++)if(J=B[k].trim(),0!==J.length&&"#"!==J.charAt(0))if(z=w.exec(J))S.push([parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])]);else if(z=T.exec(J))M.push([parseFloat(z[1]),parseFloat(z[2])]);else if(O&&(z=s.exec(J)))P.flipFace?O.push([parseFloat(-z[1]),parseFloat(-z[2]),parseFloat(-z[3])]):O.push([parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])]);else if(z=N.exec(J))b(A,S,M,O,P,[z[1],z[2],z[3],z[4]]);else if(z=e.exec(J))b(A,S,M,O,P,[z[2],z[5],z[8],z[11]],[z[3],z[6],z[9],z[12]]);else if(z=c.exec(J))b(A,S,M,O,P,[z[2],z[6],z[10],z[14]],[z[3],z[7],z[11],z[15]],[z[4],z[8],z[12],z[16]]);else if(z=U.exec(J))b(A,S,M,O,P,[z[2],z[5],z[8],z[11]],E,[z[3],z[6],z[9],z[12]]);else if(/^usemtl /.test(J)&&(v=J.substring(7).trim(),!(A=W[v]))){if(A={name:v,vs:[],uv:[],ns:O?[]:E},P.ignoreMtls&&P.ignoreMtls.indexOf(v)>=0&&delete A.vs,(P.reverseFlip||"*"===x||x&&x.indexOf(v)>=0)&&(A.reverseFlip=!0),i&&(L=i[v],L&&(P.ignoreColor||(A.color=L.kd),!P.ignoreTransparent&&L.d>0&&L.d<1&&(A.transparent=!0,A.opacity=L.d),!P.ignoreImage&&(q=L.map_kd)))){for(q=q.split(" "),n=0;n<q.length;n++)"-o"===q[n]?(A.uvOffset=[parseFloat(q[n+1]),parseFloat(q[n+2])],n+=2):"-s"===q[n]&&(A.uvScale=[parseFloat(q[n+1]),parseFloat(q[n+2])],n+=2);A.image=(P.prefix||"")+q[q.length-1]}W[v]=A}var y=[];for(var H in W){var l=W[H].vs;l&&0!==l.length||y.push(H)}y.forEach(function(T){delete W[T]}),K(W,P.cube,P.center,P);var V=P.shape3d;if(V){var o=[];for(var v in W){var A=W[v];o.rawS3=A.rawS3,o.push(A)}F.setShape3dModel(V,o)}return W}}(),j=function(S){var d={};if(S)for(var o,a,O,r,H,Z,P=S.split("\n"),s=/\s+/,A=0;A<P.length;A++)a=P[A].trim(),0!==a.length&&"#"!==a.charAt(0)&&(O=a.indexOf(" "),r=(O?a.substring(0,O):a).toLowerCase(),H=(O?a.substring(O+1):"").trim(),"newmtl"===r?d[H]=o={name:H}:o&&("ka"===r||"kd"===r||"ks"===r?(Z=H.split(s,3),o[r]=[parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2]),1]):o[r]="ns"===r||"d"===r?parseFloat(H):H));return d},G=function(n,W,E){if(n){var T=new XMLHttpRequest;T.onload=function(m){E(m.target.responseText)},T.onerror=function(){E(null)},T.open("GET",n,W),T.send(null)}else E(null)};p.addMethod(F,{loadObj:function(r,y,n){n=n||{};var N=!n.sync;G(y,N,function(x){G(r,N,function(D){var B,s=n.shape3d,N=e(D,x,n);if(N)if(s)B=F.getShape3dModel(s);else{B=[];for(var P in N){var b=N[P];B.rawS3=b.rawS3,B.push(b)}}n.finishFunc&&n.finishFunc(N,B,B.rawS3)})})},parseObj:function(R,f,_){return e(R,f,_)}})}(this,Object);